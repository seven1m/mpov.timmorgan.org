<!doctype html><html lang=en-us><head><title>Clipboard History in Sway Window Manager | My Point of View</title><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content="Recently I switched to the Sway window manager on my favorite laptop and realized that ClipIt does not work there. I was reminded of an old Ruby script I wrote way back in 2012 to serve this purpose.
Time to dust that thing off and make it work with Wayland! I installed the excellent wl-clipboard by Sergey Bugaev and started hacking.
Here is my script:
Here&rsquo;s how to use it:"><meta name=generator content="Hugo 0.100.2"><meta name=ROBOTS content="NOINDEX, NOFOLLOW"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/images/favicon.png type=image/x-icon></head><body><nav class=navigation><a href=/><span class=arrow>←</span>Home</a>
<a href=/tags>Tags</a>
<a href=/about>About</a></nav><main class=main><section id=single><h1 class=title>Clipboard History in Sway Window Manager</h1><div class=tip><time datetime="2019-03-14 21:07:33 -0500 -0500">Mar 14, 2019</time>
<span class=split>·</span>
<span>208 words</span>
<span class=split>·</span>
<span>1 minute read</span></div><div class=content><p>Recently I switched to the <a href=https://swaywm.org/ target=_blank rel=noopener>Sway</a> window manager on
<a href=http://seven1m.sdf.org/opinion/my_favorite_dev_laptop.html target=_blank rel=noopener>my favorite laptop</a>
and realized that <a href=https://github.com/CristianHenzel/ClipIt target=_blank rel=noopener>ClipIt</a> does not work there.
I was reminded of an old
<a href=https://mpov.timmorgan.org/super-simple-clipboard-history-for-linux/ target=_blank rel=noopener>Ruby script I wrote</a>
way back in 2012 to serve this purpose.</p><p>Time to dust that thing off and make it work with Wayland! I installed the excellent
wl-clipboard by Sergey Bugaev and started hacking.</p><p>Here is my script:</p><script type=application/javascript src=https://gist.github.com/seven1m/e2973274520b25db8f7a7d9155cc8566.js></script><p>Here&rsquo;s how to use it:</p><ol><li><p>Save the script above to a file at <code>/usr/local/bin/clipd</code> and make it executable.</p></li><li><p>Install <code>dmenu</code> if you don&rsquo;t already have it.</p></li><li><p>Install <a href=https://github.com/bugaevc/wl-clipboard target=_blank rel=noopener>wl-clipboard</a> from source.
At the time of this writing, the package in the Ubuntu repository is fairly old and causes
some screen glitching. The latest version on GitHub fixed that for me.</p></li><li><p>Add the following config to your Sway config at <code>~/.config/sway/config</code>:</p><pre tabindex=0><code>bindsym $mod+v exec clipd menu
exec --no-startup-id clipd
</code></pre></li><li><p>Restart Sway.</p></li></ol><p>Now, when you copy text, clipd will see the new text (within 5 seconds) and add it to your
<code>~/.clipboard-history</code> file. It keeps the last 100 entries there.</p><p>When you press Mod + v, a menu will show the entries and allow you to make a selection. The
item you select will be put back on the clipboard so you can paste it.</p><p>Enjoy!</p></div><div class=tags><a href=https://mpov.timmorgan.org/tags/ruby>ruby</a>
<a href=https://mpov.timmorgan.org/tags/sway>sway</a>
<a href=https://mpov.timmorgan.org/tags/wayland>wayland</a>
<a href=https://mpov.timmorgan.org/tags/clipboard>clipboard</a></div></section></main><footer id=footer><div class=copyright>© Copyright
2022
<span class=split><svg fill="#bbb" width="15" height="15" id="heart-15" xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 15 15"><path d="M13.91 6.75c-1.17 2.25-4.3 5.31-6.07 6.94-.1903.1718-.4797.1718-.67.0C5.39 12.06 2.26 9 1.09 6.75-1.48 1.8 5-1.5 7.5 3.45 10-1.5 16.48 1.8 13.91 6.75z"/></svg></span></div><div class=powerby>Powered by <a href=http://www.gohugo.io/>Hugo</a> Theme By <a href=https://github.com/nodejh/hugo-theme-mini>nodejh</a></div></footer></body></html>