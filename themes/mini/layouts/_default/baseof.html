<!DOCTYPE html>
<html lang="{{ $.Site.LanguageCode | default "en" }}">
  <head>
    <title>{{ block "title" . }}{{ with .Params.Title }}{{ . }} | {{ end }}{{ .Site.Title }}{{ end }}</title>

    {{ partial "head.html" . }}

  </head>

  <body>
    {{ partial "navigation.html" . }}

    <main class="main">
      {{ block "main" . }}{{ end }}
    </main>
    
    {{ partial "footer.html" . }}

    {{ if .Params.asciinema }}
      <script src="{{ .Site.BaseURL }}js/asciinema-player.min.js"></script>
      <script>
        document.querySelectorAll('.asciinema-player').forEach((div) => {
          const options = {
            'cols': div.dataset['cols'],
            'rows': div.dataset['rows'],
            'autoplay': !!div.dataset['autoplay'],
            'preload': !!div.dataset['preload'],
            'loop': !!div.dataset['loop'],
            'start-at': div.dataset['start-at'],
            'speed': div.dataset['speed'],
            'time-limit': div.dataset['time-limit'],
            'poster': div.dataset['poster'],
            'font-size': div.dataset['font-size'],
            'theme': div.dataset['theme'],
            'title': div.dataset['title'],
            'author': div.dataset['author'],
            'author-url': div.dataset['author-url'],
            'author-img-url': div.dataset['author-img-url'],
          }
          AsciinemaPlayer.create(div.dataset['src'], div, options)
        })
      </script>
    {{ end }}
  </body>
</html>
